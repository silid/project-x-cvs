07.08.2004
replace the provided updated source files from the basic version 0.81.7
it's recommended to backup the old.

Note: all changes are subject to test ATM

short description of changes:
-------------------------
0.81.7 int07 / 07.08.2004

modified sources:
CharSet   (new)
DVBSubpicture
MPVD
SUBPICTURE
Teletext
WSS   (new)
X


changelog:
-fix: DVB Subpicture: exceptions on bad data

-change: <subtitle> replace original teletext stream timecode by the first found MPA stream timecode
 * applies only to ttx streams carried in a TS,MPG,VDR etc., but not as a separated PES
 * is meant for streams that have a wrong timebase to the associated video
 * use the new gui option to enable

-change: <logwindow> some more log infos
 * logs the VPS status/program etc. read from teletext
 * logs the 'forced'-status of DVD subpictures
 * others

-change: <preview> shows infos about existing WSS status bits (in picture line 1)
 * some DVB stations haven't removed that line before encoding (e.g. ORF)

-change: teletext, now referring complete to unicode (mainly level 1.5 based)
 * improved decoding of national characters incl. additional replacements (e.g. dk, no, pl, cz, tr etc.)
 * contains tables for latin, east_european, greek, cyrillic, hebrew etc. letters (arabic is prepared only, char's not yet available)
 * note: if an unicode char has no equivalent in the local active codepage/font, Java replaces it by a '?'.



-------------------------
0.81.7 int06 / 16.07.2004

modified sources:
IDDBufferedOutputStream
MPVD
SUBPICTURE
X


changelog:
-fix: drag'n drop colour issue on newer JRE's (green colour didn't disappear after drop completion).
-fix: subpicture demux: additional time offset (<out>) didnt' take any effect.
-fix: dvb.subpicture preview, font for picture size (info only) was taken from last teletext font
-fix: TS: last complete ts-packet in a file has been discarded, even on the enabled option for 'ts packet completion'.
-fix: demux: changed handling of pre-checking for a PTS mismatch of data<->video streams. 
 * the '?'-sign will be added to the 'summary info' of each stream at the end of a coll.-processing, if there was no PTS match.
-fix: TS: already recognized PID content wasn't checked of wrong startcodes anymore, now such a packet will be refused (e.g. caused by wrong flags in TS packet header)
-fix: <to VDR> 'rename error' if file sourcename was equal to "001" and enabled 'index.vdr' creation.

-change: <options> pre-scan buffer now editable, also incl. some lower sizes
-change: <logwindow> some Log infos enhanced
-change: <special> 'get only enclosed pes/ts packets' now applies to TS packets, too.
-change: <out> 'de-/select stream types to process' is a global stream type handler for all types incl. PES
-change: <specials> TS: enhanced search for open payload of TS packets. was formerly defined by a pre-selection of PIDs at 'coll. specials' pidlist.
  * the 'main ids panel' is not longer available
-change: <preview> info about existence of user-defined quant.matrices "iqm,niqm" in current sequenceheader.
-change: <to VDR>
  * now remaps all stream IDs like all other dir. conversions.
  * when <extern> 'index.vdr' is enabled, there is a new folder creation: "coll's. out directory" / "source file name" / actual "date.time.rec" / "0xx.vdr" + "index.vdr" + "summary.vdr" (what's the normal log, if enabled)




-------------------------
0.81.7 int05 / 27.06.2004

modified sources:
DVBSubpicture
X
SCAN
MPVD
PREVIEW (new, outsourced from X)
PreviewObject (new)
RawInterface (new)
RawFileInputStream (new, symbolical)
RAWREAD (new, symbolical)


changelog:
-fix: DVB Subpicture - wrong entry of stuffing bits, not critical
-fix: DVB Subpicture - arrayexception on bad indices, shouldn't break now, but may result in a broken subpicture.
-minor changes

-changes: Streamfile read access is available outside of X.java through the (still simple) 'RawInterface'
 * that applies to all files when pre-scanning, and ATM all packetized streamformat files (so as PVA,PS,PES,TS but not ES) while processing..



-------------------------
0.81.7 int04 / 14.06.2004

modified sources:
Common
DVBSubpicture
MPAD
TS
X



changelog:
-fix: mpa audio decode exception on too much read Bits (wrong pointer in a corrupt frame)
-change: reject the 'more gop memory' from int03, seems not to free memory fast enough
-add: .sup creation from DVB-subpic: user colour table definitions possible (see "colours.tbl") (e.g. better anti-aliasing)
 * any additional defined table adds a menu item to the decoder model list, which overwrites the transmitted colour definitions
-add: simple packet/pid extraction out of a PVA,TS or PS,PES  -> new conversion item: "PIDfilter" (meant for special analyses)
 * copies the original packet from source to sink without any modification
 * use the PIDlist beside the preview to select one or more (P)ID for a limited extraction



-------------------------
0.81.7 int03 / 31.05.2004

modified sources:
Bitmap
DVBSubpicture
MPVD
SUBPICTURE
Teletext (replacement of TELETEXT)
TS
X



changelog:
-teletext.java is now static class
-change: .sup creation from DVB Subpic: force top field of pic. to start at an even line (prevents interlace flickering of NRK STs)
-change: .sup creation from teletext: mapping multiple colors (of actors) with different fore- and backgrounds to more different foregrounds, better use of .ifo's 16-color table (sometimes used by german ZDF) 
 (replacement of the alternative font_style <italic>)
-change: .sup creation 
 * changed time_out calculation, provides better displaying 
 * max. rows for export now user_defined (std. 4 = new 9th value of the "26;9;32;80;560;720;576;-1;4" set)
-change: on demux, there was double memory allocation for one GOP
-fix: MPEG ES demux, wrong GOP detection depending on set read_buffersize



-------------------------
0.81.7 int02 / 21.05.2004

modified sources:
Bitmap
BMP
BR_MONITOR
Common
DVBSubpicture
Ifo
MPAD
MPVD
SCAN
StartUp
SUBPICTURE
TELETEXT
TeletextPageMatrix
X


changelog:
-fix: exception when audio processing ends w/o found audio
-fix: exception while parsing PMT on short scan 
-fix: exception while processing an ignored ID (vdr,mpg)
-fix: preview get lost with black screen on some bad data
-fix: bitrate monitor - graphical update w/o process
-fix: subpicture .sup format - wrong entries for rectangle size
-new: tab <options> {garbage collector} - set free blocked memory (if automatic doesn't work..)
-new: tab <msg> - now collects the options that affect logwindow messages
-new: logwindow color change when user cancel active process (like pause or error)
-new: teletext - teletext page matrix builds a graphical overview of all found text pages when demux a teletext stream
-changed: audio resampling - function now applies to double value of a sample (instead of rounded int)
-changed: tab <specials> - contents re-arranged and/or moved to other tabs
-changed: <coll. specials> - contents re-arranged +
  * preview window is now CIF-sized and widescreen, to show the right aspectratio
  * shows more details of stream headers
  * slider is wider, incl. a color representation of non-/export areas above when cut (bytepos. cut mode)
-changed: tab <teletext> to <subtitle> - now carries all dvb subtitle settings
-changed: teletext - czech and polish char's added, using unicode +
  * mapping to the correct local char's depends on the installed codepage/font (e.g. 'lucida sans') !
-changed: teletext - .sup export modified, read following:
-new: basic DVB subpicture support added, from PS or TS, only demux but with .sup or .son(+bmp) creation
  hints:
  * there exist several methods of transmission and displaying, basically each language has its own stream and/or page ID (which can be pre-selected by X), all coded as bitmaps (X decodes strings as well, but export isn't yet implemented)
  * a provider can (and do) re-define the basic colors+transparencies of the std decoder model, with up to 256 entries
  * to create .sup or .son, the color table(s) must be mapped to a 16 color table (but with up to 4 colors per picture only)
  * now, each exported .sup file comes along with its relating .sup.IFO, carrying the color indices for authoring (copy/paste). there is no std color.ifo anymore, same for teletext sources !
  * extracting more than one teletext page per job from one streamfile, the latest .sup.IFO carries the indices for all pages before, so use this one.
  * .son format builds for each picture entry one .bmp-256 (may not deal with nonPAL sources)
  * examples for reasonable results as .sup/.son (short tests) whose keep the 'basic look' :
    - NRK nor: decoder model = 4 colors, page ID = 1 (16 colors re-defined) 
    - YLE fin: decoder model = 16colors, page ID = 1 (9 colors re-defined)
    - note: exporting .bmp with min. 16colors always looks better, but cannot be authored 'as is'.
    - on preview and .bmp, 'dark blue (RGB 0,0,0x60)' represents a pixel of full transparency (usually color table index 0) from DVB subpic's
-note: the new features possibly require a lower I/O buffer !



-------------------------
0.81.7 int01 / 16.04.2004

X.java
AUDIO.java
MPAD.java
TS.java
CRC.java
SUBPICTURE.java
Common.java
StartUp.java

-change: <audio> <decode to pcm> _ now "normalize to % " instead of a fix amplifying factor
-new: <audio> <demux> _ CRC check possible; if enabled, AC-3 and MPA Layer 1+2 will be checked
-fix: _ array error on m2p-pespackets without payload
-fix: _ nullpointer exception when selecting <rename> without a file
-change: _ Log summary infos
-fix: <demux> _ DVB subpictures not yet supported -> type now ignored 
-adaption: <demux> _ nebula software inserts the same PTS value for every video PES packet in a gop, what cannot be conform; (no adaption for direct conversions)
-adaption: if OS blocks renaming a file, X tries repeatedly to continue with success for a while..
-some other changes

